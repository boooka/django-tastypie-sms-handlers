# SMS-handlers
## Простая реализация механизма sms хендлеров.
### Оба  гейта отвечают в формате json
 пример удачного ответа:
 ```
 {'status':'ok','phone':'79149009900'}
 ```
 пример ошибки:
 ```
 {'status':'error','phone':'79149009900','error_code':3500,'error_msg':'Невозможно отправить сообщение указанному абоненту.'}
 ```
 Чтобы отправить смску необходимо отправить post запрос в api гейта
### Пример использования:
 + get_handler фабрика, которая возвращает нам желаемый хендлер
 + handler_name может быть названием класса хендлера

 ```
 sms_handler = get_handler(handler_name)
 sms_handler.send(user_data)
 ```
### TODO
+ Реализовать функцию get_handler или предложить свой вариант
+ Сделать два простых хендлера, которые принимают сообщения по следующим адресам:
  + sms центр: [http://smsc.ru/someapi/message/](http://smsc.ru/someapi/message/)
  + sms траффик: http://smstraffic.ru/superapi/message/
 предположим, что оба эти адреса отвечают нам в формате, описанным выше
+ Механизм хендлеров должен иметь какой-то общий интерфейс и быть расширяем, добавление новых sms-гейтов не должно занимать больших усилий
+ Сделать логгирование отправки сообщений, можно хранить в бд(django orm)